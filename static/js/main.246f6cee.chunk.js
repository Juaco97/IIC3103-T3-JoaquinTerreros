(this.webpackJsonptarea3=this.webpackJsonptarea3||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),s=n(20),a=n.n(s),r=(n(49),n(2)),o=(n(50),n(23)),j=n(44),l=n.n(j)()("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),u=n(1),b=function(e){var t=e.nombre,n=Object(c.useState)(""),i=Object(r.a)(n,2),s=i[0],a=i[1],j=Object(c.useState)([]),b=Object(r.a)(j,2),O=b[0],d=b[1];Object(c.useEffect)((function(){return l.on("CHAT",(function(e){console.log(e),d([].concat(Object(o.a)(O),[e]))})),function(){l.off()}}),[O]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:O.map((function(e,t){return Object(u.jsx)("div",{children:"[".concat(new Date(e.date).toTimeString().split(" ")[0],"] ").concat(e.name,": ").concat(e.message)},t)}))}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l.emit("CHAT",{name:t,message:s})},children:[Object(u.jsx)("label",{htmlFor:"",children:"Escriba su mensaje"}),Object(u.jsx)("textarea",{name:"",id:"",cols:"30",rows:"1",value:s,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("button",{children:"Enviar"})]})]})},O=n(22),d=n(3),h=n(85),f=n(89),x=n(86),m=n(87),p=n(90),g=n(88),v=n(4),S=n.p+"static/media/avion2.e01f0b9e.svg",C=new v.Icon({iconUrl:S,iconSize:[50,50]}),y=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)([]),a=Object(r.a)(s,2),j=a[0],b=a[1],v=Object(c.useState)({}),S=Object(r.a)(v,2),y=S[0],I=S[1];return Object(c.useEffect)((function(){l.emit("FLIGHTS"),l.on("FLIGHTS",(function(e){i(e)}))}),[]),Object(c.useEffect)((function(){l.on("POSITION",(function(e){b((function(t){return[].concat(Object(o.a)(t),[e])})),I((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(O.a)({},e.code,e.position))}))}))}),[]),console.log(j),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(u.jsxs)(h.a,{className:"markercluster-map",center:[0,0],zoom:2,maxZoom:18,children:[Object(u.jsx)(f.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),n.map((function(e){return Object(u.jsx)(x.a,{positions:[[e.origin[0],e.origin[1]],[e.destination[0],e.destination[1]]]})})),n.map((function(e){return Object(u.jsx)(m.a,{position:[e.origin[0],e.origin[1]]})})),n.map((function(e){return Object(u.jsx)(m.a,{position:[e.destination[0],e.destination[1]]})})),j.map((function(e){return Object(u.jsx)(p.a,{center:{lat:e.position[0],lng:e.position[1]},fillColor:"red",pathOptions:{color:"red"},radius:2})})),Object.entries(y).map((function(e){var t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(u.jsx)(m.a,{icon:C,position:[c[0],c[1]],children:Object(u.jsx)(g.a,{children:n})},n)}))]})}),Object(u.jsx)("div",{className:"",style:{textAlign:"left"},children:n.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("h4",{children:["Codigo de vuelo: ",e.code]}),Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:["Aerolinea: ",e.airline]}),Object(u.jsx)("li",{children:"Pasajeros en el vuelo:"}),e.passengers.map((function(e){return Object(u.jsxs)("ol",{children:[Object(u.jsxs)("li",{style:{listStyle:"square"},children:["Nombre: ",e.name]}),Object(u.jsxs)("li",{style:{listStyle:"square"},children:["Edad: ",e.age]}),Object(u.jsx)("br",{})]})})),Object(u.jsxs)("li",{children:["Avion: ",e.plane]}),Object(u.jsxs)("li",{children:["Asiento: ",e.seats]})]})]})}))})]})};var I=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(!1),a=Object(r.a)(s,2),o=a[0],j=a[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{className:"Chat",children:[Object(u.jsx)("h1",{children:"Chat"}),!o&&Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n?j(!0):alert("Debes ingresar un nickname para chatear!")},children:[Object(u.jsx)("label",{htmlFor:"",children:"Introduce un nickname"}),Object(u.jsx)("input",{value:n,onChange:function(e){return i(e.target.value)}}),Object(u.jsx)("button",{children:"Ir a la pagina!"})]}),o&&Object(u.jsx)(b,{nombre:n,resgitrado:o})]}),Object(u.jsx)(y,{})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))};a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root")),F()}},[[83,1,2]]]);
//# sourceMappingURL=main.246f6cee.chunk.js.map